<!-- templates/results/results.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Resultados para "{{ query }}"</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/results.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">🔍</div>
            <form action="/search" method="get" class="search-box">
                <input type="text" name="q" value="{{ query }}" required>
            </form>
            <a href="/" class="back-btn">Inicio</a>
        </header>
        
        <div class="stats">
            <div class="stat-item">Páginas indexadas: <span class="stat-value">{{ stats.pages }}</span></div>
            <div class="stat-item">Resultados: <span class="stat-value">{{ results|length }}</span></div>
        </div>

        {% if safe_mode %}
            <div class="safe-mode-indicator">
                🔒 Modo seguro activado - Contenido inapropiado bloqueado
            </div>
        {% endif %}

        {% if results %}
            {% for result in results[:10] %}
                <div class="result">
                    <a href="{{ result[0] }}" class="title" target="_blank">{{ result[1] }}</a>
                    <div class="url">{{ result[0] }}</div>
                    <div class="relevance">Relevancia: {{ result[2] }}</div>
                </div>
            {% endfor %}
        {% else %}
            <div class="no-results">
                <img src="{{ url_for('static', filename='styles/jesus.jpg') }}" />
                <h3>No se encontraron resultados para "{{ query }}"</h3>
                <p>Intenta con términos más específicos o diferentes palabras clave.</p>
            </div>
        {% endif %}
        
        <!-- Botón para forzar búsqueda dinámica -->
        <div class="action-buttons">
            <a href="/force_dynamic_search?q={{ query }}" class="back-btn">Buscar en la web</a>
            <a href="/" class="back-btn">Nueva búsqueda</a>
        </div>
    </div>
</body>
</html>